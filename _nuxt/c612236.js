(window.webpackJsonp=window.webpackJsonp||[]).push([[7,5],{367:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(14),n(11),n(16),n(24),n(15),n(25);var r=n(4);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var c=function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},{freehandCanvasWidth:500,freehandCanvasHeight:500,outputImageWidth:128,outputImageHeight:128,outputImageExtension:"png",outputImageDefaultName:"image_freehand",swatches:[["#000000"],["#FFFFFF"],["#3AB0C7"],["#38BA91"],["#EC71A1"],["#EAA822"],["#1111FF"],["#00BB00"],["#FF0000"]]})}},368:function(e,t,n){var content=n(376);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(33).default)("3b91e1da",content,!0,{sourceMap:!1})},369:function(e,t,n){var content=n(378);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(33).default)("334c3dee",content,!0,{sourceMap:!1})},370:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));n(11),n(50),n(17);var r=n(22),o=function(){return{svgElement:Object(r.g)()}},c=Symbol("svgRef"),l=function(){var e=Object(r.d)(c);if(!e)throw new Error("".concat(c," is not provided"));return e}},375:function(e,t,n){"use strict";n(368)},376:function(e,t,n){var r=n(32)(!1);r.push([e.i,"svg[data-v-16aed6a5]{width:100%;height:100%;touch-action:none}.svg-container[data-v-16aed6a5]{position:relative}",""]),e.exports=r},377:function(e,t,n){"use strict";n(369)},378:function(e,t,n){var r=n(32)(!1);r.push([e.i,".controls-container[data-v-440efe6d]{position:relative}",""]),e.exports=r},379:function(e,t,n){"use strict";n.r(t);n(14),n(11),n(16),n(24),n(15),n(25);var r=n(4),o=n(22),c=n(109),l=n(86),d=(n(68),n(55),n(27),n(374)),f=n(370),v=n(367);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O=Object(o.b)({setup:function(){var e=Object(v.a)(),t=e.freehandCanvasWidth,n=e.freehandCanvasHeight,r=Object(c.useStore)().settings,h={width:"".concat(t,"px"),height:"".concat(n,"px")},O=Object(o.a)((function(){return r.value.strokeColor})),C=Object(o.a)((function(){return{backgroundColor:r.value.backgroundColor}}));return m(m(m(m({},function(){var e=Object(c.useStore)(),t=e.setCurrentMark,n=e.updateCurrentMark,r=e.endMark;return{handlePointerDown:function(e){e.preventDefault(),t({type:e.pointerType,points:[[e.offsetX,e.offsetY,e.pressure]]})},handlePointerMove:function(e){e.preventDefault(),1===e.buttons&&n({type:e.pointerType,points:[[e.offsetX,e.offsetY,e.pressure]]})},handlePointerUp:function(e){e.preventDefault(),r()}}}()),function(){var e=Object(c.useStore)(),data=e.data,t=e.settings;return{strokes:Object(o.a)((function(){return data.value.marks.length<1&&data.value.currentMark.points.length<1?[]:[].concat(Object(l.a)(data.value.marks),[data.value.currentMark]).map((function(mark){return function(e){var t=[];if(e.length<3)return"";var n=e[e.length-3],r=e[e.length-2];t.push("M",n[0],n[1],"Q");for(var i=0;i<e.length;i++)t.push(n[0],n[1],(n[0]+r[0])/2,(n[1]+r[1])/2),n=r,r=e[i];return t.push("Z"),t.join(" ")}(Object(d.a)(mark.points,{size:t.value.size,thinning:t.value.thinning,smoothing:t.value.smoothing,streamline:t.value.streamline,simulatePressure:"pen"!==mark.type}))}))}))}}()),Object(f.c)()),{},{svgContainerStyle:h,svgStyle:C,strokeColor:O})}}),C=(n(375),n(52)),w=n(69),j=n.n(w),y=n(421),component=Object(C.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto svg-container",style:e.svgContainerStyle,attrs:{outlined:""}},[n("svg",{ref:"svgElement",style:e.svgStyle,on:{pointerdown:e.handlePointerDown,pointerup:e.handlePointerUp,pointermove:e.handlePointerMove}},[n("g",{attrs:{"stroke-width":"0",stroke:e.strokeColor,fill:e.strokeColor}},e._l(e.strokes,(function(e,t){return n("path",{key:t,attrs:{d:e}})})),0)])])}),[],!1,null,"16aed6a5",null);t.default=component.exports;j()(component,{VCard:y.a})},380:function(e,t,n){"use strict";n.r(t);var r=n(22),o=n(367),c=Object(r.b)({setup:function(){return{width:Object(o.a)().freehandCanvasWidth}}}),l=n(52),d=n(69),f=n.n(d),v=n(390),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-subheader",{staticClass:"mx-auto font-weight-bold",style:{width:e.width+"px"}},[e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VSubheader:v.a})},381:function(e,t,n){"use strict";n.r(t);var r=n(22),o=n(109),c=n(367),l=Object(r.b)({setup:function(){var e=Object(c.a)(),t=e.swatches,n=e.freehandCanvasWidth,r=e.freehandCanvasHeight,l=Object(o.useStore)(),d=l.settings,f=l.settingsHasChanged,v=l.resetSettings;return{controlsContainerStyle:{width:"".concat(n,"px"),height:"".concat(r,"px")},swatches:t,settings:d,settingsHasChanged:f,handleSettingReset:function(){return v()}}}}),d=(n(377),n(52)),f=n(69),v=n.n(f),h=n(353),m=n(426),O=n(421),C=n(424),w=n(420),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto controls-container pa-4",style:e.controlsContainerStyle,attrs:{color:"grey lighten-4",outlined:""}},[n("label",{staticClass:"text-caption"},[e._v("線の太さ(size)")]),e._v(" "),n("v-slider",{staticClass:"mt-n1",attrs:{dense:"","hide-details":"",max:"50",min:"1"},model:{value:e.settings.size,callback:function(t){e.$set(e.settings,"size",t)},expression:"settings.size"}}),e._v(" "),n("label",{staticClass:"text-caption"},[e._v("線の色/背景色")]),e._v(" "),n("div",{staticClass:"d-flex justify-space-between"},[n("div",[n("v-btn-toggle",{staticClass:"ml-4 mt-4",model:{value:e.toggle_exclusive,callback:function(t){e.toggle_exclusive=t},expression:"toggle_exclusive"}},[n("v-btn",[e._v("線")]),e._v(" "),n("v-btn",[e._v("背景")])],1)],1),e._v(" "),n("v-color-picker",{staticClass:"mx-0 my-4",attrs:{"canvas-height":"100",width:"280","dot-size":"10","hide-inputs":"",mode:"hexa","show-swatches":"",swatches:e.swatches},model:{value:e.settings.strokeColor,callback:function(t){e.$set(e.settings,"strokeColor",t)},expression:"settings.strokeColor"}})],1),e._v(" "),n("div",{staticClass:"d-flex justify-center"},[n("v-btn",{staticClass:"mx-auto",attrs:{small:"",disabled:!e.settingsHasChanged},on:{click:e.handleSettingReset}},[e._v("設定をリセット")])],1)],1)}),[],!1,null,"440efe6d",null);t.default=component.exports;v()(component,{VBtn:h.a,VBtnToggle:m.a,VCard:O.a,VColorPicker:C.a,VSlider:w.a})},383:function(e,t,n){var content=n(419);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(33).default)("369f99eb",content,!0,{sourceMap:!1})},418:function(e,t,n){"use strict";n(383)},419:function(e,t,n){var r=n(32)(!1);r.push([e.i,".settings-container[data-v-7bbf041e]{position:relative;width:400px;height:400px}",""]),e.exports=r},425:function(e,t,n){"use strict";n.r(t);var r=n(21),o=(n(87),n(22)),c=n(380),l=n(379),d=n(381),f=n(109),v=(n(17),n(27),n(367)),h=function(e){return new Promise((function(t,n){var image=new Image;image.addEventListener("load",(function(){return t(image)})),image.addEventListener("error",(function(e){return n(e)})),image.src=e}))},m=n(370),O=Object(o.b)({components:{AppSubheader:c.default,FreehandCanvas:l.default,AppearanceControls:d.default},setup:function(){Object(o.e)(m.a,Object(m.b)());var e,t,n,c,l,d,O,C=Object(f.useStore)(),w=C.dataHasChanged,j=C.resetData,y=(e=Object(v.a)(),t=e.freehandCanvasWidth,n=e.freehandCanvasHeight,c=e.outputImageWidth,l=e.outputImageHeight,d=e.outputImageExtension,O=e.outputImageDefaultName,{downloadPngFromSvg:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(svg){var r,canvas,o,f,image,v,m,C,w,a,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new XMLSerializer).serializeToString(svg),(canvas=document.createElement("canvas")).width=t,canvas.height=n,o=canvas.getContext("2d"),f="data:image/svg+xml;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(r))),e.next=8,h(f);case 8:return image=e.sent,null==o||o.drawImage(image,0,0,t,n,0,0,100,100),v=canvas.toDataURL("image/png"),e.next=13,h(v);case 13:m=e.sent,(C=document.createElement("canvas")).width=c,C.height=l,null==(w=C.getContext("2d"))||w.drawImage(m,0,0,c,l,0,0,c,l),a=document.createElement("a"),j=C.toDataURL("image/".concat(d)),a.href=j,a.setAttribute("download","".concat(O,".").concat(d)),a.dispatchEvent(new MouseEvent("click"));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).downloadPngFromSvg,x=Object(m.c)().svgElement;return{dataHasChanged:w,handlePngDownload:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(x.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleClear:function(){return j()}}}}),C=(n(418),n(52)),w=n(69),j=n.n(w),y=n(353),x=n(422),_=n(366),k=n(423),component=Object(C.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",[n("v-col",[n("AppSubheader",[e._v("手書き入力")]),e._v(" "),n("FreehandCanvas")],1),e._v(" "),n("v-col",[n("AppSubheader",[e._v("設定")]),e._v(" "),n("AppearanceControls")],1)],1),e._v(" "),n("v-row",[n("v-col",[n("div",{staticClass:"d-flex justify-center mt-6"},[n("v-btn",{attrs:{outlined:"",disabled:!e.dataHasChanged},on:{click:function(t){return t.preventDefault(),e.handleClear(t)}}},[e._v("クリア")]),e._v(" "),n("v-btn",{staticClass:"ml-4",attrs:{disabled:!e.dataHasChanged,outlined:""},on:{click:function(t){return t.preventDefault(),e.handlePngDownload(t)}}},[e._v("保存")])],1)])],1)],1)}),[],!1,null,"7bbf041e",null);t.default=component.exports;j()(component,{AppSubheader:n(380).default,FreehandCanvas:n(379).default,AppearanceControls:n(381).default}),j()(component,{VBtn:y.a,VCol:x.a,VContainer:_.a,VRow:k.a})}}]);