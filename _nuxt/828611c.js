(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{367:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(14),n(11),n(16),n(24),n(15),n(25);var r=n(4);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c=[{title:"線の太さ (size)",key:"size",step:0,min:1,max:50},{title:"オプション1 (thinning)",key:"thinning",step:0,min:-1,max:1},{title:"オプション2 (smoothing)",key:"smoothing",step:0,min:0,max:1},{title:"オプション3 (streamline)",key:"streamline",step:0,min:0,max:1}],f=function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},{freehandCanvasWidth:500,freehandCanvasHeight:500,outputImageWidth:128,outputImageHeight:128,outputImageExtension:"png",outputImageDefaultName:"image_freehand",swatches:[["#000000FF"],["#FFFFFFFF"],["#3AB0C7"],["#38BA91"],["#EC71A1"],["#EAA822"],["#1111FF"],["#00BB00"],["#FF0000"],["#00000000"]],strokeOptions:c})}},368:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return f}));n(11),n(51),n(17);var r=n(22),o=function(){return{svgElement:Object(r.g)()}},c=Symbol("svgRef"),f=function(){var t=Object(r.d)(c);if(!t)throw new Error("".concat(c," is not provided"));return t}},373:function(t,e,n){var content=n(386);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(33).default)("3b91e1da",content,!0,{sourceMap:!1})},384:function(t,e,n){"use strict";function r(t,e,n){return t*(1-n)+e*n}function o(t,a,b){return Math.max(a,Math.min(b,t))}function c(t,e,n,c){return void 0===c&&(c=.5),e?(c=o(n(c),0,1),(e<0?r(t,t+t*o(e,-.95,-.05),c):r(t-t*o(e,.05,.95),t,c))/2):t/2}function f(t,e){return[t[0]+e[0],t[1]+e[1]]}function sub(t,e){return[t[0]-e[0],t[1]-e[1]]}function v(t,e){return[e[0]-t[0],e[1]-t[1]]}function l(t,e){return[t[0]*e,t[1]*e]}function h(t){return[t[1],-t[0]]}function d(t,e){return t[0]*e[0]+t[1]*e[1]}function O(t){return function(t,e){return[t[0]/e,t[1]/e]}(t,function(t){return Math.hypot(t[0],t[1])}(t))}function m(t,e){return Math.hypot(t[1]-e[1],t[0]-e[0])}function y(t,e,n){var s=Math.sin(n),r=Math.cos(n),o=t[0]-e[0],c=t[1]-e[1],f=o*s+c*r;return[o*r-c*s+e[0],f+e[1]]}function j(t,e,n){return f(t,l(v(t,e),n))}var k=Math.min,w=Math.PI;function P(t,e){var n=e.simulatePressure,r=void 0===n||n,o=e.streamline,c=void 0===o?.5:o,l=e.size,h=void 0===l?8:l;c/=2,r||(c/=2);var y=function(t){return Array.isArray(t[0])?t.map((function(t){var e=t[0],n=t[1],r=t[2];return[e,n,void 0===r?.5:r]})):t.map((function(t){var e=t.x,n=t.y,r=t.pressure;return[e,n,void 0===r?.5:r]}))}(t),k=y.length;if(0===k)return[];1===k&&y.push(f(y[0],[1,0]));for(var w=[{point:[y[0][0],y[0][1]],pressure:y[0][2],vector:[0,0],distance:0,runningLength:0}],i=1,P=y[i],M=w[0];i<y.length;P=y[++i],M=w[i-1]){var C=j(M.point,P,1-c),D=P[2],F=O(v(C,M.point)),x=m(C,M.point),S=M.runningLength+x;w.push({point:C,pressure:D,vector:F,distance:x,runningLength:S})}for(var E=w[k-1].runningLength,L=k-2;L>1;L--){var A=w[L],z=A.runningLength,_=A.vector;if(E-z>h/2||d(w[L-1].vector,w[L].vector)<.8){for(var I=L;I<k;I++)w[I].vector=_;break}}return w}e.a=function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});var n=e,r=n.size,o=void 0===r?8:r,P=n.thinning,M=void 0===P?.5:P,C=n.smoothing,D=void 0===C?.5:C,F=n.simulatePressure,x=void 0===F||F,S=n.easing,E=void 0===S?function(t){return t}:S,L=n.start,A=void 0===L?{}:L,z=n.end,_=void 0===z?{}:z,I=n.last,B=void 0!==I&&I,H=e.streamline,W=void 0===H?.5:H;W/=2;var J=A.taper,T=void 0===J?0:J,U=A.easing,X=void 0===U?function(t){return t*(2-t)}:U,Y=_.taper,N=void 0===Y?0:Y,Q=_.easing,R=void 0===Q?function(t){return--t*t*t+1}:Q,V=t.length;if(0===V)return[];for(var Z=t[V-1].runningLength,$=[],G=[],K=t.slice(0,5).reduce((function(t,e){return(t+e.pressure)/2}),t[0].pressure),tt=c(o,M,E,t[V-1].pressure),et=t[0].vector,nt=t[0].point,ot=nt,it=nt,tr=ot,i=1;i<V-1;i++){var ut=t[i],at=ut.point,st=ut.pressure,ct=ut.vector,ft=ut.distance,pt=ut.runningLength;if(M){if(x){var rp=k(1,1-ft/o),vt=k(1,ft/o);st=k(1,K+vt/2*(rp-K))}tt=c(o,M,E,st)}else tt=o/2;var lt=pt<T?X(pt/T):1,ht=Z-pt<N?R((Z-pt)/N):1;tt*=Math.min(lt,ht);var gt=t[i+1].vector,bt=d(ct,gt);if(bt<0){for(var Ot=l(h(et),tt),mt=f(at,Ot),yt=sub(at,Ot),jt=.2;jt<1;jt+=.2)tr=y(mt,at,w*-jt),it=y(yt,at,w*jt),G.push(tr),$.push(it);nt=it,ot=tr}else{var kt=l(h(j(gt,ct,bt)),tt);it=sub(at,kt),tr=f(at,kt);var wt=1===i||bt<.25,Pt=(pt>o?o:o/2)*D;(wt||m(nt,it)>Pt)&&($.push(j(nt,it,W)),nt=it),(wt||m(ot,tr)>Pt)&&(G.push(j(ot,tr,W)),ot=tr),K=st,et=ct}}var Mt=t[0],Ct=t[V-1],Dt=G.length<2||$.length<2;if(Dt&&(!T&&!N||B)){for(var Ft=0,xt=0;xt<V;xt++){var St=t[xt],Et=St.pressure;if(St.runningLength>o){Ft=c(o,M,E,Et);break}}for(var Lt=sub(Mt.point,l(h(O(v(Ct.point,Mt.point))),Ft||tt)),At=[],zt=0;zt<=1;zt+=.1)At.push(y(Lt,Mt.point,2*w*zt));return At}var _t=[];if(!(T||N&&Dt)){tr=G[1],it=$[1];for(var It=sub(Mt.point,l(O(v(tr,it)),m(tr,it)/2)),Bt=0;Bt<=1;Bt+=.2)_t.push(y(It,Mt.point,w*Bt));$.shift(),G.shift()}var Ht=[];if(N||T&&Dt)Ht.push(Ct.point);else for(var Wt=sub(Ct.point,l(h(Ct.vector),tt)),Jt=0;Jt<=1;Jt+=.1)Ht.push(y(Wt,Ct.point,3*w*Jt));return $.concat(Ht,G.reverse(),_t)}(P(t,e),e)}},385:function(t,e,n){"use strict";n(373)},386:function(t,e,n){var r=n(32)(!1);r.push([t.i,"svg[data-v-16aed6a5]{width:100%;height:100%;touch-action:none}.svg-container[data-v-16aed6a5]{position:relative}",""]),t.exports=r},393:function(t,e,n){"use strict";n.r(e);n(14),n(11),n(16),n(24),n(15),n(25);var r=n(4),o=n(22),c=n(109),f=n(86),v=(n(69),n(55),n(27),n(384)),l=n(368),h=n(367);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=Object(o.b)({setup:function(){var t=Object(h.a)(),e=t.freehandCanvasWidth,n=t.freehandCanvasHeight,r=Object(c.useStore)().settings,d={width:"".concat(e,"px"),height:"".concat(n,"px")},m=Object(o.a)((function(){return r.value.strokeColor})),y=Object(o.a)((function(){return{backgroundColor:r.value.backgroundColor}}));return O(O(O(O({},function(){var t=Object(c.useStore)(),e=t.setCurrentMark,n=t.updateCurrentMark,r=t.endMark;return{handlePointerDown:function(t){t.preventDefault(),e({type:t.pointerType,points:[[t.offsetX,t.offsetY,t.pressure]]})},handlePointerMove:function(t){t.preventDefault(),1===t.buttons&&n({type:t.pointerType,points:[[t.offsetX,t.offsetY,t.pressure]]})},handlePointerUp:function(t){t.preventDefault(),r()}}}()),function(){var t=Object(c.useStore)(),data=t.data,e=t.settings;return{strokes:Object(o.a)((function(){return data.value.marks.length<1&&data.value.currentMark.points.length<1?[]:[].concat(Object(f.a)(data.value.marks),[data.value.currentMark]).map((function(mark){return function(t){var e=[];if(t.length<3)return"";var n=t[t.length-3],r=t[t.length-2];e.push("M",n[0],n[1],"Q");for(var i=0;i<t.length;i++)e.push(n[0],n[1],(n[0]+r[0])/2,(n[1]+r[1])/2),n=r,r=t[i];return e.push("Z"),e.join(" ")}(Object(v.a)(mark.points,{size:e.value.size,thinning:e.value.thinning,smoothing:e.value.smoothing,streamline:e.value.streamline,simulatePressure:"pen"!==mark.type}))}))}))}}()),Object(l.c)()),{},{svgContainerStyle:d,svgStyle:y,strokeColor:m})}}),y=(n(385),n(49)),j=n(66),k=n.n(j),w=n(425),component=Object(y.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mx-auto svg-container",style:t.svgContainerStyle,attrs:{outlined:""}},[n("svg",{ref:"svgElement",style:t.svgStyle,on:{pointerdown:t.handlePointerDown,pointerup:t.handlePointerUp,pointermove:t.handlePointerMove}},[n("g",{attrs:{"stroke-width":"0",stroke:t.strokeColor,fill:t.strokeColor}},t._l(t.strokes,(function(t,e){return n("path",{key:e,attrs:{d:t}})})),0)])])}),[],!1,null,"16aed6a5",null);e.default=component.exports;k()(component,{VCard:w.a})}}]);